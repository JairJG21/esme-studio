---
import Menu from '../components/Menu.astro';
import Servicios from '../components/Servicios.astro';
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-iconify'
---

<Layout title="Esme Studio">
	<div class="section-btn-whatsapp" id="element-to-hide">
		<a href="https://wa.me/7201844426?text=Hola,%20me%20gustaría%20agendar%20una%20cita"><Icon name="ic:baseline-whatsapp" /></a>
	</div>
	<div id="alert-1" class="flex items-center p-4 text-white bg-greensea-custom" role="alert">
		<Icon name="heroicons:calendar-date-range" class="icon-sm" />
		<span class="sr-only">Info</span>
		<div class="ms-3 text-sm font-medium">
			<a href="https://wa.me/7201844426?text=Hola,%20me%20gustaría%20agendar%20una%20cita" class="font-semibold underline hover:no-underline">Reserva tu proxima cita con nosotros</a>
		</div>
		<button type="button" class="ms-auto -mx-1.5 -my-1.5 inline-flex items-center justify-center h-6 w-6" data-dismiss-target="#alert-1" aria-label="Close">
			<span class="sr-only">Close</span>
			<Icon name="heroicons:x-mark" class="text-white" />
		</button>
	</div>
	<Menu />
	<section class="h-[550px]">
		<div id="default-carousel" class="relative w-full h-full" data-carousel="slide" data-carousel-interval="7000">
			<div class="relative h-full overflow-hidden md:h-96">
				<div class="hidden duration-700 ease-in-out" data-carousel-item>
					<img src="/img/carousel_1.webp" class="absolute block w-full h-full object-cover -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
					<div class="absolute inset-0 bg-black/65"></div>
					<div class="absolute inset-0 flex items-center justify-center flex-col px-2 text-center">
						<h1 class="text-white text-4xl font-bold">¡Renueva tu belleza con nosotros!</h1>
						<p class="text-white textarea-md">Reserva tu cita y descrube nuestra magia.</p>
						<a class="btn btn-greensea" href="https://wa.me/7201844426?text=Hola,%20me%20gustaría%20agendar%20una%20cita">Quiero una cita</a>
					</div>
				</div>
				<div class="hidden duration-700 ease-in-out" data-carousel-item>
					<img src="/img/carousel_2.webp" class="absolute block w-full h-full object-cover -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
					<div class="absolute inset-0 bg-black/65"></div>
					<div class="absolute inset-0 flex items-center justify-center flex-col px-2 text-center">
						<h1 class="text-white text-4xl font-bold">¡Felices Fiestas Patrias!</h1>
						<p class="text-white textarea-md">Renueva tu estilo y brilla con orgullo patrio. Conoce las promociones que tenemos para ti.</p>
						<a class="btn btn-greensea" href="#servicios">Conocer Promociones</a>
					</div>
				</div>
			</div>
			<div class="absolute points_carousel z-30 flex -translate-x-1/2 left-1/2 space-x-3 rtl:space-x-reverse">
				<button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
				<button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
			</div>
			<button type="button" class="absolute btn_carousel top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
				<span class="inline-flex btn_prev items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
					<svg class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
					</svg>
					<span class="sr-only">Previous</span>
				</span>
			</button>
			<button type="button" class="absolute btn_carousel top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
				<span class="inline-flex btn_next items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
					<svg class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
					</svg>
					<span class="sr-only">Next</span>
				</span>
			</button>
		</div>
	</section>
	<Servicios/>
	<section>
		<div class="bg-greensea-custom mt-20 relative px-5 py-10 h-[900px]">
			<img class="absolute bottom-0 -left-12 w-[300px]" src="/img/esme.png" alt="">
			<div class="w-full">
				<div class="text-center mb-10">
					<h2 class="text-3xl font-light text-greensea-custom2">Arte, ciencia y pasión</h2>
					<h1 class="text-3xl font-semibold text-white">al servicio de tu belleza.</h1>
				</div>
				<p class="text-center text-white font-light">Soy <b class="font-semibold">Esme Alcala</b>, estilista apasionado con más de 4 años de experiencia en el mundo de la belleza.</p>
				<p class="text-center text-white mt-5 font-light">Mi misión es ayudarte a descubrir y realzar tu belleza única a través de técnicas personalizadas y un enfoque artístico. Creo que cada persona merece sentirse segura y hermosa en su propia piel, y es un honor para mí ser parte de ese viaje.</p>
			</div>
			<div class="w-full">
				<div class="absolute right-5 bottom-5 z-10">
					<div class="text-center border-greensea-custom2 mb-7">
						<p class="text-7xl font-semibold text-greensea-custom2">+70</p>
						<span class="text-greensea-custom2">clientas felices</span>
					</div>
					<hr class="border-greensea-custom2 mb-4">
					<div class="text-center mb-7">
						<p class="text-7xl font-semibold text-greensea-custom2">+10</p>
						<span class="text-greensea-custom2">certificaciones</span>
					</div>
					<div class="flex items-center justify-center gap-3">
						<a href="https://www.facebook.com/esme.espinoza04" target="_blank"><Icon name="mdi:facebook" class="text-greensea-custom2 w-[40px]" /></a>
						<a href="https://www.instagram.com/esmealca31/" target="_blank"><Icon name="mdi:instagram" class="text-greensea-custom2 w-[40px]" /></a>
					</div>
				</div>
			</div>
		</div>
	</section>
	<section class="mt-32" id="trigger">
		<div class="w-full inline-flex flex-nowrap overflow-hidden [mask-image:_linear-gradient(to_right,transparent_0,_black_128px,_black_calc(100%-200px),transparent_100%)] mt-10">
			<ul class="flex items-center justify-center md:justify-start [&_li]:mx-2 [&_img]:max-w-none animate-marquee slide">
				<li>
					<img src="/img/slide1.webp" alt="" />
				</li>
				<li>
					<img src="/img/slide2.jpg" alt="" />
				</li>
				<li>
					<img src="/img/slide3.jpg" alt="" />
				</li>
				<li>
					<img src="/img/slide4.jpeg" alt="" />
				</li>
				<li>
					<img src="/img/slide5.webp" alt="" />
				</li>
			</ul>
		</div>		
		<div class="text-center mt-10">
			<h1 class="text-dark-custom text-4xl font-bold">¿Lista para tu transformación? </h1>
			<p class="text-dark-custom font-light my-5">Contáctame por WhatsApp <br> y agendemos tu cita.</p>
			<a class="btn-whatsapp" href="https://wa.me/7201844426?text=Hola,%20me%20gustaría%20agendar%20una%20cita"><Icon name="ic:baseline-whatsapp" /> Contactar ahora</a>
		</div>
		<div class="w-full inline-flex flex-nowrap overflow-hidden [mask-image:_linear-gradient(to_right,transparent_0,_black_128px,_black_calc(100%-200px),transparent_100%)] mt-10">
			<ul class="flex items-center justify-center md:justify-start [&_li]:mx-2 [&_img]:max-w-none animate-marquee slide">
				<li>
					<img src="/img/slide1.webp" alt="" />
				</li>
				<li>
					<img src="/img/slide2.jpg" alt="" />
				</li>
				<li>
					<img src="/img/slide3.jpg" alt="" />
				</li>
				<li>
					<img src="/img/slide4.jpeg" alt="" />
				</li>
				<li>
					<img src="/img/slide5.webp" alt="" />
				</li>
			</ul>
		</div>
	</section>
	<section class="mt-32">
		<div class="text-center mb-10">
			<h2 class="text-3xl font-light text-dark-custom">Descubre las impresionantes transformaciones</h2>
			<h1 class="text-3xl font-semibold text-greensea-custom">de belleza de nuestras clientas.</h1>
		</div>
		<div class="grid grid-cols-2 md:grid-cols-4 gap-4 px-5 gallery">
			<div class="grid gap-4">
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-1.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-2.jpg" alt="">
				</div>
			</div>
			<div class="grid gap-4">
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-3.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-4.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-5.jpg" alt="">
				</div>
			</div>
			<div class="grid gap-4">
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-6.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-7.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-8.jpg" alt="">
				</div>
			</div>
			<div class="grid gap-4">
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-9.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-10.jpg" alt="">
				</div>
				<div>
					<img class="h-auto max-w-full rounded-lg" src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-11.jpg" alt="">
				</div>
			</div>
		</div>

	</section>
	<footer class="bg-greensea-custom mt-10">
		<div class="mx-auto w-full max-w-screen-xl">
			<div class="px-4 py-6 text-center">
				<div class="flex items-center justify-center mt-4 space-x-2">
					<a href="https://www.facebook.com/esme.espinoza04"><Icon name="mdi:facebook" class="text-white w-[35px]" /></a>
					<a href="https://www.instagram.com/esmealca31/"><Icon name="mdi:instagram" class="text-white w-[35px]" /></a>
				</div>
				<span class="text-[12px] text-white sm:text-center">© 2024 Esme Studio. Todos los derechos reservados.
				</span>				
			</div>
		</div>
	</footer>


	<!-- Main modal -->
	<dialog id="my_modal_3" class="modal modal-bottom sm:modal-middle">
	<div class="modal-box">
		<form method="dialog">
		<button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
		</form>
		<h3 class="text-lg font-bold">Acido Glicólico + Radiofrecuencia Facial</h3>
		<p class="py-4">Ayuda a la hiperpigmentación, las quemaduras solares, reduce las líneas de expresión, arrugas, manchas y le devuelve la luminosidad al rostro. El ácido glicólico corrige los problemas de la piel favoreciendo la renovación celular de las capas superiores de esta a través de la exfoliación. Ayuda frente a la sequedad de la piel, el eczema y la psoriasis, así como también, las verrugas, la piel áspera y la rosácea.
			</p>
	</div>
	</dialog>

	<!-- Modal -->
	<div id="imageModal" class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-75 hidden justify-center items-center">
		<span id="closeModal" class="absolute text-white text-3xl cursor-pointer w-10"><Icon name="heroicons:x-mark" /></span>
		<img id="modalImage" class="max-w-full max-h-full">
		<button id="prevImage" class="absolute left-5 text-white text-3xl cursor-pointer"><Icon name="heroicons:chevron-left" /></button>
		<button id="nextImage" class="absolute right-5 text-white text-3xl cursor-pointer"><Icon name="heroicons:chevron-right" /></button>
	</div>
</Layout>

<style>
	.icon-sm {
		width: 22px;
	} 	
	.btn-greensea {
		border-radius: 9999px;
		background-color: #95d2b3;
		color: #fff;
		border: none;
	}		
	.section-btn-whatsapp {
		position: fixed;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 15px;
		color: #fff;
		bottom: 20px;
		left: 0px;
		z-index: 9999;
		background-color: #44C861;
		padding: 10px;
		border-radius: 0px 999px 999px 0px;
		transition: all 0.5s ease-in-out;
	}
	.section-btn-whatsapp a > svg {
		width: 45px;
	}
	.section-btn-whatsapp a {
		width: auto;
		gap: 10px;
		font-size: 18px;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-direction: row-reverse;
	}
	.btn-whatsapp {
		background-color: #44C861;
		color: #fff;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		margin: auto;
		width: auto;
		border-radius: 999px;
		padding: 10px 30px;
		gap: 10px;
	}
	.btn-whatsapp svg {
		width: 35px;
	}	
	.slide img {
		width: 250px;
		height: 150px;
		object-fit: cover;
		border-radius: 16px;
	}
	.hidden {
		display: none;
	}
	#prevImage, #nextImage {
		background: none;
		border: none;
		font-size: 50px;
		padding: 0px;
		cursor: pointer;
		user-select: none;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
	#prevImage svg, #nextImage svg {
		width: 50px;
	}
	#prevImage:hover, #nextImage:hover {
		color: lightgray;
	}
	#closeModal {
		position: absolute;
		top: 20px;
		right: 20px;
		font-size: 40px;
		font-weight: bold;
		cursor: pointer;
	}
	#imageModal {
		z-index: 9999 !important;
		background-color: #252422d7;
		backdrop-filter: blur(3px);
	}
	.gallery img {
		transition: all 0.2s ease-in-out;
	}
	.gallery img:hover {
		transform: scale(1.05);
	}
	.btn_carousel {
		width: 100%;
	}
	.btn_carousel .btn_prev {
		position: absolute;
		bottom: 20px;
		right: 80px;
	}
	.btn_carousel .btn_next {
		position: absolute;
		bottom: 20px;
		right: 20px;
	}
	.points_carousel {
		bottom: 33px;
	}
	.points_carousel button.bg-white {
		width: 30px;
		transition: all 0.3s ease-in-out;
	}
</style>

<script>	

	document.addEventListener("DOMContentLoaded", () => {
		const triggerElement = document.getElementById('trigger');
		const elementToHide = document.getElementById('element-to-hide');

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
			if (entry.isIntersecting) {
				elementToHide.classList.add('hidden');
			} else {
				elementToHide.classList.remove('hidden');
			}
			});
		});

		observer.observe(triggerElement);
	});

	document.addEventListener('DOMContentLoaded', () => {
		const images = document.querySelectorAll('.grid img');
		const modal = document.getElementById('imageModal');
		const modalImage = document.getElementById('modalImage');
		const closeModal = document.getElementById('closeModal');
		const prevImage = document.getElementById('prevImage');
		const nextImage = document.getElementById('nextImage');

		let currentImageIndex = 0;

		images.forEach((image, index) => {
			image.addEventListener('click', () => {
			currentImageIndex = index;
			modalImage.src = images[currentImageIndex].src;
			modal.style.display = 'flex';
			});
		});

		closeModal.addEventListener('click', () => {
			modal.style.display = 'none';
		});

		modal.addEventListener('click', (e) => {
			if (e.target === modal) {
			modal.style.display = 'none';
			}
		});

		prevImage.addEventListener('click', (e) => {
			e.stopPropagation();
			currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
			modalImage.src = images[currentImageIndex].src;
		});

		nextImage.addEventListener('click', (e) => {
			e.stopPropagation();
			currentImageIndex = (currentImageIndex + 1) % images.length;
			modalImage.src = images[currentImageIndex].src;
		});
	});
</script>